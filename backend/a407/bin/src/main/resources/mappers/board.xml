<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssafy.a407.dao.BoardDao">
	<insert id="createBoard" parameterType="BoardDto">
		insert into board (email, title, contents, noticeFlag, category) values (#{email}, #{title}, #{contents}, #{noticeFlag}, #{category})
	</insert>
	
	<select id="searchAll" resultType="BoardDto">
		select *
		from a407.board;
	</select>
	
	<select id="searchBId" parameterType="String" resultType="BoardDto">
		select *
		from a407.board
		where groupName like CONCAT('%', #{word}, "%")
	</select>
	
	<select id="searchTitle" parameterType="String" resultType="BoardDto">
		select *
		from a407.board
		where groupDesc like CONCAT('%', #{word}, "%")
	</select>
	
	<select id="searchEmail" parameterType="String" resultType="BoardDto">
		select *
		from a407.board
		where category like CONCAT('%', #{word}, "%")
	</select>
	
	<select id="searchContents" parameterType="String" resultType="BoardDto">
		select *
		from a407.board
		where region like CONCAT('%', #{word}, "%")
	</select>
	
	<update id="updateBoard" parameterType="map">update a407.board set title = #{title}, contents = #{contents}, noticeFlag = #{noticeFlag}, category= #{category} where bId = #{bId} and email = #{email}</update>
	
	<delete id="deleteBoard" parameterType="int">delete from a407.board where bId = #{bId}</delete>
</mapper>